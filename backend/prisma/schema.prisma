// backend/prisma/schema.prisma

// âœ… ADD THIS DATASOURCE BLOCK
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// âœ… ADD THE MISSING PLAYER MODEL
model Player {
  id           Int          @id @default(autoincrement())
  externalId   String       @unique
  name         String
  position     String
  team         String
  jerseyNumber Int?
  height       String?
  weight       Int?
  college      String?
  experience   Int?
  stats        PlayerStat[]
  
  createdAt    DateTime     @default(now())
  updatedAt    DateTime     @updatedAt
  
  @@map("players")
}

// âœ… YOUR EXISTING PLAYERSTAT MODEL (keep this)
model PlayerStat {
  id          Int      @id @default(autoincrement())
  playerId    Int
  player      Player   @relation(fields: [playerId], references: [id], onDelete: Cascade)
  
  // Season info
  season      Int
  week        Int?
  gamesPlayed Int?
  gamesStarted Int?

  // ðŸ‘‡ PASSING STATS
  passingAttempts      Int?
  passingCompletions   Int?
  completionPercentage Float?
  passingYards         Int?
  passingTouchdowns    Int?
  interceptions        Int?
  passerRating         Float?
  sacks                Int?
  sackYards            Int?
  longestPass          Int?
  airYards             Int?
  netPassingYards      Int?

  // ðŸ‘‡ RUSHING STATS
  rushingAttempts      Int?
  rushingYards         Int?
  rushingTouchdowns    Int?
  yardsPerCarry        Float?
  longestRush          Int?
  rushingFirstDowns    Int?
  fumbles              Int?
  fumblesLost          Int?

  // ðŸ‘‡ RECEIVING STATS
  targets              Int?
  receptions           Int?
  receivingYards       Int?
  receivingTouchdowns  Int?
  yardsPerReception    Float?
  longestReception     Int?
  receivingFirstDowns  Int?
  drops                Int?

  // ðŸ‘‡ DEFENSIVE STATS
  tackles              Int?
  soloTackles          Int?
  assists              Int?
  sacksMade            Int?
  sackYardsMade        Int?
  interceptionsMade    Int?
  passesDefended       Int?
  forcedFumbles        Int?
  fumbleRecoveries     Int?
  defensiveTouchdowns  Int?
  quarterbackHits      Int?
  tacklesForLoss       Int?

  // ðŸ‘‡ SPECIAL TEAMS
  puntReturns          Int?
  puntReturnYards      Int?
  puntReturnTouchdowns Int?
  kickReturns          Int?
  kickReturnYards      Int?
  kickReturnTouchdowns Int?
  punts                Int?
  puntYards            Int?
  fieldGoalsMade       Int?
  fieldGoalsAttempted  Int?
  fieldGoalPercentage  Float?
  extraPointsMade      Int?
  extraPointsAttempted Int?

  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
  
  @@unique([playerId, season, week])
  @@map("player_stats")
}